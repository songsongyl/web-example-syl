<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数字千分位加逗号返回</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

</head>
<body>
    <div>
        <input type="text" id = "inp">
        <button onclick="qianF()">点击让数字千分位加逗号返回</button>
        <p >结果是</p>
        <p id="res"></p>
    </div>
    <a href="https://blog.csdn.net/qq_34402069/article/details/124758417" hidden>相关知识</a>
    <script >
       
       function qianF(){
        let inn =$("#inp").val().split("")
       
        if(inn[0]=="-"){
              inn.splice(0,1)
        }
        let arr="";
        
        for(let i=0;i<inn.length;i++){
            if(inn[i]!=",")
            arr+=inn[i];
        }
        // console.log(inn)
        // console.log(arr)
        let flag1 =0
        for(let i=0;i<inn.length;i++){
                        if(inn[i]=='.')
                        {flag1 = 1
                        break}
                    }
                    let integer 
                    let dicimals = ""
        if(flag1 ==1){
            const dig = arr.split(".")
         integer = dig[0]
         dicimals ="." + dig[1]
        }else{
             integer =  $("input").val()
        }
        
        let count =0
        let result = []
        let p=0
            let res = integer.split('').reverse()
            for(let i=0;i<res.length;i++){
                count++
                if(count==3&&i!=res.length-1){
                    result[p++]=res[i]
                    result[p++]=","
                    count=0
                }else{
                    result[p++]=res[i]
                }
            }
            let lat =( result.reverse()).join("")
            if($("#inp").val().split("")[0]=='-'){
                lat = "-" +lat +dicimals
            }else{
                lat = lat + dicimals
            }
           
         
      $("#res").text(lat) 
    }
    </script>
</body>
</html>